s (209 sloc)  8.62 KB
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Survey</title>
  <link rel="stylesheet" type="text/css" href="../../style.css">
  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
  
</script>
</head>
<body>
  
  <div class="container">
    <h1></span><strong>Survey Questions</strong></h1>
    <hr/>
    <h2><strong>About You</strong></h2>

    <h4>Name (Required)</h4>

         <input type="text" name="" id="name" class="form-control" required><hr/>

    <h4>Link to Photo Image (Required)</h4>
        <input photo="" class="form-control" id="photo" required="" type="text"/>
    <hr/>

    <h3><strong>Question 1</strong></h3>
    <h4>You like dogs better than cats.</h4>
        <select data-placeholder="" class="chosen-select" id="q1">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>
    
    <h3><strong>Question 2</strong></h3>
    <h4>You prefer to stay in and watch Netflix instead of going to the movie theater.</h4>
        <select data-placeholder="" class="chosen-select" id="q2">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 3</strong></h3>
    <h4>You like warm weather more than cold weather.</h4>
       <select data-placeholder="" class="chosen-select" id="q3">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 4</strong></h3>
    <h4>You prefer flip flops over tennis shoes.</h4>
        <select data-placeholder="" class="chosen-select" id="q4">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 5</strong></h3>
    <h4>You like country music.</h4>
        <select data-placeholder="" class="chosen-select" id="q5">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 6</strong></h3>
    <h4>It is difficult for you to express your feelings.</h4>
        <select data-placeholder="" class="chosen-select" id="q6">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 7</strong></h3>
    <h4>In a discussion, truth should be more important than peopleâ€™s sensitivities.</h4>
       <select data-placeholder="" class="chosen-select" id="q7">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 8</strong></h3>
    <h4>You rarely get carried away by fantasies and ideas.</h4>
        <select data-placeholder="" class="chosen-select" id="q8">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 9</strong></h3>
    <h4>Family is the most important thing to you.</h4>
        <select data-placeholder="" class="chosen-select" id="q9">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <h3><strong>Question 10</strong></h3>
    <h4>You prefer a cold beer to a glass of wine.</h4>
        <select data-placeholder="" class="chosen-select" id="q10">
        <option value=""></option>
        <option value = "1">1(Strongly Disagree)</option>
        <option value = "2">2</option>
        <option value = "3">3</option>
        <option value = "4">4</option>
        <option value = "5">5(Strongly Agree)</option>
        </select>

    <br>
    <br>

<!-- Submit Button -->
    <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit"><i class="fa fa-check-circle" aria-hidden="true"></i>
    submit</button>

        <hr>
    <footer class="footer">
        <div class="container">
            <p><a href="/api/friends">API Friends List</a> | <a href="https://github.com/tlbyers/FriendFinder">GitHub Repo</a></p>
        </div>
    </footer>
</div>

   <!-- Modal -->
    <div id="resultsModal" class="modal fade" role="dialog">
      <div class="modal-dialog">

        <!-- Modal content-->
        <div class="modal-content">
          <div class="modal-header">
            <button type="button" class="close" data-dismiss="modal">&times;</button>
            <h2 class="modal-title"><strong>Best Match</strong></h2>
          </div>
          <div class="modal-body">
            <h2 id="matchName"></h2>
            <img id="matchImg" src="https://pbs.twimg.com/profile_images/461110955082924033/syKzaNQA.png" alt="Johnny Depp">
          </div>
          <div class="modal-footer">
            <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
          </div>
        </div>
      </div>
    </div>
<!-- //This section sends form data to our server -->
  <script type="text/javascript">
   
    // Capture the form inputs 
    $("#submit").on("click", function(){
        // Form validation
        function validateForm() {
          var isValid = true;
          $('.form-control').each(function() {
            if ( $(this).val() === '' )
                isValid = false;
          });
          $('.chosen-select').each(function() {
            if( $(this).val() === "")
                isValid = false
          })
          return isValid;
        }
        // If all required fields are filled
        if (validateForm() == true)
        {
            // Create an object for the user's data
            var userData = {
                name: $("#name").val(),
                photo: $("#photo").val(),
                scores: [$("#q1").val(), $("#q2").val(), $("#q3").val(), $("#q4").val(), $("#q5").val(), $("#q6").val(), $("#q7").val(), $("#q8").val(), $("#q9").val(), $("#q10").val(), ]
            }
            // Grab the URL of the website
            var currentURL = window.location.origin;
            // AJAX post the data to the friends API. 
            $.post(currentURL + "/api/friends", userData, function(data){
                // Grab the result from the AJAX post so that the best match's name and photo are displayed.
                $("#matchName").text(data.name);
                $('#matchImg').attr("src", data.photo);
                // Show the modal with the best match 
                $("#resultsModal").modal('toggle');
            });
        }
        else
        {
            alert("Please fill out all fields before submitting!");
        }
        
        return false
        //clear fields
        var userData={name: $("#name").val(""),
                photo: $("#photo").val(""),
                scores: [$("#q1").val(""), $("#q2").val(""), $("#q3").val(""), $("#q4").val(""), $("#q5").val(""), $("#q6").val(""), $("#q7").val(""), $("#q8").val(""), $("#q9").val(""), $("#q10").val(""), ]
            }
    });
  </script>
</body>
</html>